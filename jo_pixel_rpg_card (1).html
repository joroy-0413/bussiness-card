<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mario Style Business Card</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
<style>
  body { margin:0; background:#88cc88; }
  canvas { display:block; margin:0 auto; }
  #infoBox {
    position:absolute;
    top:10px;
    left:50%;
    transform:translateX(-50%);
    width:400px;
    padding:10px;
    background:rgba(255,255,255,0.9);
    border:2px solid #000;
    font-family:Courier, monospace;
    text-align:center;
  }
</style>
</head>
<body>
<div id="infoBox">Touch/Hit a block to see info!</div>
<script>
const config = {
  type: Phaser.AUTO,
  width: 480,
  height: 320,
  physics: { default: 'arcade', arcade: { gravity: { y: 600 }, debug: false } },
  scene: { preload, create, update }
};
const game = new Phaser.Game(config);

let player;
let cursors;
let infoBox = document.getElementById('infoBox');
let infoBlocks;

function preload() {}

function create() {
  // Platforms group
  const platforms = this.physics.add.staticGroup();
  platforms.create(240, 310, null).setDisplaySize(480,20).refreshBody(); // ground
  platforms.create(120, 200, null).setDisplaySize(100,20).refreshBody();
  platforms.create(360, 200, null).setDisplaySize(100,20).refreshBody();
  platforms.create(240, 120, null).setDisplaySize(100,20).refreshBody();

  // Player
  player = this.add.rectangle(50, 280, 20, 30, 0x0000ff);
  this.physics.add.existing(player);
  player.body.setCollideWorldBounds(true);
  player.body.setBounce(0.1);
  this.physics.add.collider(player, platforms);

  cursors = this.input.keyboard.createCursorKeys();

  // Info blocks
  infoBlocks = this.physics.add.staticGroup();
  const infoData = [
    { x: 120, y: 170, text:"Contact:\nE-mail: joroy0413@gmail.com\nPhone: 010-1234-5678" },
    { x: 360, y: 170, text:"Company:\nXXGameCompany - Game Programmer" },
    { x: 240, y: 100, text:"Name:\nJo EuiHyeon" }  // 플랫폼 위쪽으로 위치 조정
  ];

  infoData.forEach(data => {
    let block = this.add.rectangle(data.x, data.y, 40, 20, 0xff0000);
    this.physics.add.existing(block, true);
    block.data = data;
    infoBlocks.add(block);
    this.physics.add.overlap(player, block, () => {
      infoBox.textContent = block.data.text;
    }, null, this);
  });
}

function update() {
  player.body.setVelocityX(0);
  if(cursors.left.isDown) player.body.setVelocityX(-150);
  else if(cursors.right.isDown) player.body.setVelocityX(150);

  if(cursors.up.isDown && player.body.touching.down) player.body.setVelocityY(-380);
}
</script>
</body>
</html>
